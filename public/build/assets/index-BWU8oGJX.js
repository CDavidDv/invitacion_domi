import{S as P,_ as ie}from"./AppLayout-CWCkusgg.js";import{Q as A,d as h,p as g,o as l,e as i,a as e,F as E,h as T,t as d,f as V,x as R,i as de,j,l as Y,v as ee,z as te,B as ue,k as ce,C as pe,y as K,g as I,b as W,c as ae,w as me}from"./app-Cz3kRBqO.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";const fe={class:"bg-white rounded-lg shadow-md overflow-hidden"},be={class:"overflow-x-auto"},he={class:"min-w-full divide-y divide-gray-200"},ge={class:"bg-white divide-y divide-gray-200"},xe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},_e={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ye={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},we={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},$e={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},De={key:0},Ce={class:"bg-gray-50"},Ee={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Se={__name:"PastesHorneados",setup(N){const{props:c}=A();h(c.pastesHorneados);const S=g(()=>{const p={};c.pastesHorneados.forEach(r=>{p[r.relleno]||(p[r.relleno]={totalPiezas:0,items:[]}),p[r.relleno].totalPiezas+=Number(r.piezas),p[r.relleno].items.push(r)});const u=[];return Object.keys(p).forEach(r=>{p[r].items.forEach((w,x)=>{u.push({...w,totalPiezas:p[r].totalPiezas,isFirst:x===0})})}),u}),$=g(()=>S.value.reduce((p,u)=>Number(p)+(u.isFirst?Number(u.totalPiezas):0),0)),k=p=>new Date(p).toLocaleString("es-MX",{hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"America/Mexico_City"}),f=p=>new Date(p).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",timeZone:"America/Mexico_City"});return(p,u)=>(l(),i("div",null,[u[3]||(u[3]=e("h1",{class:"pb-4 pt-10 font-semibold text-xl"},"Pastes/Empanadas horneados de hoy",-1)),e("div",fe,[e("div",be,[e("table",he,[u[2]||(u[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Responsable"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Paste/Empanada"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Hora"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Día"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Piezas Horneadas"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total del día")])],-1)),e("tbody",ge,[(l(!0),i(E,null,T(S.value,(r,w)=>{var x,z,H;return l(),i("tr",{key:w},[e("td",xe,d((x=r==null?void 0:r.responsable)==null?void 0:x.name)+" "+d(((z=r==null?void 0:r.responsable)==null?void 0:z.apellido_p)||"")+" "+d(((H=r==null?void 0:r.responsable)==null?void 0:H.apellido_m)||""),1),e("td",_e,d(r.relleno),1),e("td",ye,d(k(r.updated_at)),1),e("td",we,d(f(r.updated_at)),1),e("td",$e,d(r.piezas),1),e("td",ke,[r.isFirst?(l(),i("span",De,d(r.totalPiezas),1)):V("",!0)])])}),128))]),e("tfoot",Ce,[e("tr",null,[u[0]||(u[0]=e("td",{colspan:"3",class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},"Total de piezas horneadas:",-1)),e("td",Ee,d($.value),1),u[1]||(u[1]=e("td",null,null,-1))])])])])])]))}},Te=ve(Se,[["__scopeId","data-v-07cf8e5d"]]),He={class:"pt-16"},Me={class:"max-w-7xl mx-auto space-y-6"},Pe={class:"bg-white rounded-lg shadow p-6"},ze={class:"text-2xl font-bold text-gray-900"},Le={class:"mt-4"},Fe=["value"],Ie={key:0,class:"bg-white rounded-lg shadow overflow-x-auto"},Ve={class:"min-w-full divide-y divide-gray-200"},Be={class:"bg-gray-50"},Ne={class:"bg-white divide-y divide-gray-200"},Re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},je=["onUpdate:modelValue"],Ae={key:1,class:"w-full flex justify-end"},Oe={__name:"EstimacionPastes",setup(N){const{props:c}=A(),S=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"],$=new Date().getDay(),k=S[$],f=h(k||"Lunes"),p=h(!1),u=[{value:"Lunes",label:"Lunes"},{value:"Martes",label:"Martes"},{value:"Miercoles",label:"Miércoles"},{value:"Jueves",label:"Jueves"},{value:"Viernes",label:"Viernes"},{value:"Sábado",label:"Sábado"},{value:"Domingo",label:"Domingo"}],r=["9:00 am","10:00 am","11:00 am","12:00 pm","1:00 pm","2:00 pm","3:00 pm","4:00 pm","5:00 pm","6:00 pm","7:00 pm","8:00 pm","9:00 pm"],w=g(()=>c.inventario.filter(b=>["pastes","empanadas dulces","empanadas saladas"].includes(b.tipo)).map(b=>b.nombre)),x=h({}),z=P.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:b=>{b.onmouseenter=P.stopTimer,b.onmouseleave=P.resumeTimer}}),H=()=>{const b={};return r.forEach(_=>{b[_]={},w.value.forEach(v=>{b[_][v]=0})}),b},L=()=>{p.value=!1,x.value=H(),c.estimaciones.filter(_=>_.dia===f.value).forEach(({hora:_,cantidad:v,inventario_id:D})=>{var t;const M=(t=c.inventario.find(n=>n.id===D))==null?void 0:t.nombre;M&&x.value[_]&&(x.value[_][M]=v)}),p.value=!0},F=()=>{te.post("/estimaciones",{estimaciones:x.value,dia:f.value},{preserveState:!1,preserveScroll:!0,onSuccess:()=>z.fire({icon:"success",title:"Sobrantes guardados exitosamente"}),onError:()=>z.fire({icon:"error",title:"Error al guardar los sobrantes"})})};return R(()=>{L()}),de(f,()=>{L()}),(b,_)=>(l(),i("div",He,[e("div",Me,[e("header",Pe,[e("h1",ze,"Sistema de Control de Producción - Día: "+d(f.value),1),e("div",Le,[j(e("select",{"onUpdate:modelValue":_[0]||(_[0]=v=>f.value=v),class:"rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"},[(l(),i(E,null,T(u,v=>e("option",{key:v.value,value:v.value},d(v.label),9,Fe)),64))],512),[[Y,f.value]])])]),p.value?(l(),i("div",Ie,[e("table",Ve,[e("thead",Be,[e("tr",null,[_[1]||(_[1]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tiempo",-1)),(l(!0),i(E,null,T(w.value,v=>(l(),i("th",{key:v,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},d(v),1))),128))])]),e("tbody",Ne,[(l(),i(E,null,T(r,v=>e("tr",{key:v},[e("td",Re,d(v),1),(l(!0),i(E,null,T(w.value,D=>(l(),i("td",{key:D,class:"px-6 py-4 whitespace-nowrap"},[j(e("input",{type:"number","onUpdate:modelValue":M=>x.value[v][D]=M,class:"w-20 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500",min:"0"},null,8,je),[[ee,x.value[v][D]]])]))),128))])),64))])])])):V("",!0),b.$page.props.auth.user.roles[0].name=="admin"?(l(),i("div",Ae,[e("button",{onClick:F,class:"px-3 py-2 bg-orange-500 rounded-lg text-white hover:bg-orange-400"}," Guardar ")])):V("",!0)])]))}},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},We={class:"bg-white shadow rounded-lg p-6"},Ge={class:"mb-6"},Je={class:"list-disc pl-5"},qe={class:"capitalize"},Ze={class:"font-semibold"},Qe={class:"list-disc pl-5"},Xe={class:"font-semibold"},Ke={class:"bg-white shadow rounded-lg p-6"},Ye=["value"],et=["max"],tt=["disabled"],at={class:"mt-8 bg-white shadow rounded-lg p-6"},st={key:0},ot={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-4"},nt={key:1},rt=["disabled"],lt={class:"mt-8 bg-white shadow rounded-lg p-6"},it={key:0,class:"text-gray-500 text-center py-4"},dt={key:1,class:"divide-y divide-gray-200"},ut=["onClick"],ct={__name:"SistemaHorneado",setup(N){var q,Z,Q,X;const{props:c}=A(),S=c.inventario,$=h(((q=c==null?void 0:c.horno)==null?void 0:q.estado)||!1),k=h($.value&&((Z=c==null?void 0:c.horno)!=null&&Z.pastesHorneando)?c.horno.pastesHorneando:[]),f=h(15*60*1e3),p=h(0),u=h([]),r=h($.value?new Date((Q=c==null?void 0:c.horno)==null?void 0:Q.tiempo_inicio).getTime():0),w=h($.value?new Date((X=c==null?void 0:c.horno)==null?void 0:X.tiempo_fin).getTime():0),x=h(null),z=()=>{if(!(u.value.length===0||$.value)){$.value=!0,k.value=[...u.value],u.value=[],r.value=Date.now(),w.value=r.value+f.value;try{K.post("/iniciar-horneado",{tiempo_inicio:r.value,tiempo_fin:w.value,pastes_horneando:k.value,estado:!0}).then(o=>{}).catch(o=>{console.error("Error al iniciar el horneado:",o)}),P.fire({icon:"success",title:"Horneando",toast:!0,position:"top-end",showConfirmButton:!1,timer:1500}),ne()}catch(o){console.error("Error al iniciar el horneado:",o),P.fire({icon:"error",title:"Error al iniciar",toast:!0,position:"top-end",showConfirmButton:!1,timer:1500})}}},H=P.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",P.stopTimer),o.addEventListener("mouseleave",P.resumeTimer)}}),L=()=>{if(F())return;clearInterval(x.value);const o=[...k.value];$.value=!1,k.value=[],p.value=0,b(),te.post("/hornear",{pastes:o},{preserveScroll:!0,preserveState:!1,replace:!0,onSuccess:()=>{H.fire({icon:"success",title:"Horneado finalizado"})},onError:a=>{console.error("Error al registrar el horneado:",a),H.fire({icon:"error",title:"Error al registrar el horneado"})}})},F=()=>{K.post("/check-estado",{pastes:k.value}).then(o=>o.data.estado).catch(o=>(console.error("Error al obtener el estado del horno:",o),!1))},b=()=>{new Audio("/sound/videoplayback.mp3").play().catch(a=>console.error("Error al reproducir el sonido:",a))},_=g(()=>S.filter(o=>o.tipo==="masa")),v=g(()=>S.filter(o=>o.tipo==="relleno")),D=g(()=>_.value.map(o=>{const a=k.value.filter(s=>s.masa===o.nombre).reduce((s,y)=>s+y.cantidad,0);return{...o,cantidad:o.cantidad-a}})),M=g(()=>v.value.map(o=>{const a=k.value.filter(s=>s.nombre===o.nombre).reduce((s,y)=>s+y.cantidad,0);return{...o,cantidad:o.cantidad-a}})),t=h({masa:"",relleno:"",cantidad:1,sucursal_id:c.auth.user.sucursal_id}),n=o=>{const a={pastes:"bola","empanadas saladas":"salada","empanadas dulces":"dulce"},s=c.inventario.find(y=>(y.nombre.toLowerCase()===o.value.relleno.toLowerCase()||y.nombre.toLowerCase().startsWith(o.value.relleno.toLowerCase()))&&a[y.tipo.toLowerCase()]);return s?a[s.tipo.toLowerCase()]:"bola"},m=()=>{const o=n(t).toLowerCase(),a=D.value.find(y=>y.nombre.toLowerCase()===o),s=M.value.find(y=>y.nombre.toLowerCase()===t.value.relleno.toLowerCase());if(!a||a.cantidad<=0){H.fire({icon:"error",title:"No hay suficiente masa disponible"});return}if(a&&s&&t.value.cantidad<=C.value){a.cantidad-=t.value.cantidad,s.cantidad-=t.value.cantidad;const y=u.value.find(le=>le.nombre===s.nombre);y?y.cantidad+=t.value.cantidad:se({id:Date.now(),masa:a.nombre,nombre:s.nombre,cantidad:t.value.cantidad,sucursal_id:c.auth.user.sucursal_id}),t.value={masa:"",relleno:"",cantidad:1,sucursal_id:c.auth.user.sucursal_id}}},C=g(()=>{const o=M.value.find(a=>a.nombre===t.value.relleno);return o?o.cantidad:1}),O=g(()=>t.value.relleno&&t.value.cantidad>0&&t.value.cantidad<=C.value),B=h("00:00"),G=o=>{if(o<=0)return"00:00";const a=Math.floor(o/1e3),s=Math.floor(a/60),y=a%60;return`${String(s).padStart(2,"0")}:${String(y).padStart(2,"0")}`},se=o=>{u.value.push(o)},oe=o=>{u.value=u.value.filter(a=>a.id!==o)},J=()=>{F()||(clearInterval(x.value),clearInterval(U.value),$.value=!1,k.value=[],p.value=0,b(),H.fire({icon:"success",title:"Horneado finalizado"}))},ne=()=>{const o=w.value,a=o-Date.now();if(a<=0){L();return}p.value=f.value-a,x.value=setInterval(()=>{const s=o-Date.now();p.value=f.value-s,B.value=G(s),console.log("tiempo transcurrido: ",B.value),s<=0&&L()},1e3)},re=()=>{const o=w.value,a=o-Date.now();if(a<=0){J();return}p.value=f.value-a,U.value=setInterval(()=>{const s=o-Date.now();p.value=f.value-s,B.value=G(s),console.log("tiempo transcurrido: ",B.value),s<=0&&J()},1e3)},U=h(null);return R(()=>{if($.value){const o=Date.now()-r.value;w.value=Date.now()+(f.value-o),re()}}),ue(()=>{clearInterval(U.value)}),(o,a)=>(l(),i(E,null,[e("div",Ue,[e("div",We,[a[4]||(a[4]=e("h2",{class:"text-xl font-semibold mb-4"},"Ingredientes Disponibles",-1)),e("div",Ge,[a[2]||(a[2]=e("h3",{class:"text-lg font-medium mb-2"},"Masas",-1)),e("ul",Je,[(l(!0),i(E,null,T(D.value,s=>(l(),i("li",{key:s.id,class:"flex justify-between"},[e("span",qe,d(s.nombre),1),e("span",Ze,d(s.cantidad)+" unidades",1)]))),128))])]),e("div",null,[a[3]||(a[3]=e("h3",{class:"text-lg font-medium mb-2"},"Rellenos",-1)),e("ul",Qe,[(l(!0),i(E,null,T(M.value,s=>(l(),i("li",{key:s.id,class:"flex justify-between"},[e("span",null,d(s.nombre),1),e("span",Xe,d(s.cantidad)+" unidades",1)]))),128))])])]),e("div",Ke,[a[8]||(a[8]=e("h2",{class:"text-xl font-semibold mb-4"},"Crear Nuevo Paste/Empanada",-1)),e("form",{onSubmit:ce(m,["prevent"]),class:"space-y-4"},[e("div",null,[a[6]||(a[6]=e("label",{for:"relleno",class:"block text-sm font-medium text-gray-700"},"Seleccionar Relleno",-1)),j(e("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>t.value.relleno=s),id:"relleno",required:"",class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md"},[a[5]||(a[5]=e("option",{value:""},"Seleccione un relleno",-1)),(l(!0),i(E,null,T(v.value,s=>(l(),i("option",{key:s.id,value:s.nombre},d(s.nombre),9,Ye))),128))],512),[[Y,t.value.relleno]])]),e("div",null,[a[7]||(a[7]=e("label",{for:"cantidad",class:"block text-sm font-medium text-gray-700"},"Cantidad",-1)),j(e("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>t.value.cantidad=s),type:"number",id:"cantidad",required:"",min:"1",max:C.value,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm"},null,8,et),[[ee,t.value.cantidad,void 0,{number:!0}]])]),e("button",{type:"submit",disabled:!O.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed"}," Asignar Unidades ",8,tt)],32)])]),e("div",at,[a[11]||(a[11]=e("h2",{class:"text-xl font-semibold mb-4"},"Horno",-1)),$.value?(l(),i("div",st,[a[9]||(a[9]=e("p",{class:"text-lg mb-2"},"Horneando grupo de pastes:",-1)),e("ul",null,[(l(!0),i(E,null,T(k.value,s=>(l(),i("li",{key:s.nombre},d(s.cantidad)+" "+d(s.nombre)+" - masa "+d(s.masa),1))),128))]),e("div",ot,[e("div",{class:"bg-orange-600 h-2.5 rounded-full transition-all duration-100",style:pe({width:`${p.value/f.value*100}%`})},null,4)]),e("p",null,"Tiempo restante: "+d(B.value),1)])):(l(),i("div",nt,[a[10]||(a[10]=e("p",{class:"text-lg mb-4"},"El horno está disponible",-1)),e("button",{onClick:z,disabled:!u.value.length,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"}," Iniciar Horneado de Grupo ",8,rt)]))]),e("div",lt,[a[12]||(a[12]=e("h2",{class:"text-xl font-semibold mb-4"},"Grupos de Pastes por Hornear",-1)),u.value.length===0?(l(),i("div",it," No hay grupos de pastes en la cola de horneado ")):(l(),i("ul",dt,[(l(!0),i(E,null,T(u.value,s=>(l(),i("li",{key:s.id,class:"py-4 flex justify-between items-center"},[e("span",null,d(s.cantidad)+" "+d(s.nombre)+" - masa "+d(s.masa),1),e("button",{onClick:y=>oe(s.id),class:"bg-red-600 text-white hover:bg-red-800 rounded-lg px-2 py-1 focus:outline-none focus:underline"}," Cancelar ",8,ut)]))),128))]))])],64))}},pt={class:"container mx-auto p-4"},mt={class:"sm:flex justify-between flex-row text-sm"},vt={class:"flex gap-3 sm:flex-row flex-col"},ft={class:"text-lg font-bold text-center text-yellow-800"},bt={class:"animate-pulse"},ht={key:0,class:"mt-2"},gt={class:"font-bold"},xt={class:"text-lg font-bold text-center text-blue-800"},_t={class:"animate-pulse"},yt={key:0,class:"mt-2"},wt={class:"font-bold"},$t={class:"mt-6"},kt={__name:"Hornear",setup(N){const c=h(!1),S=h(!1);function $(){c.value=!c.value}function k(){S.value=!S.value}const{props:f}=A(),p=g(()=>f.inventario||[]),u=g(()=>f.estimacionesHoy||[]),r=h(w());function w(){const t=new Date;return{day:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"][t.getDay()].toLowerCase(),hour:t.getHours(),minutes:t.getMinutes()}}R(()=>{setInterval(()=>{r.value=w()},6e4)});function x(t){const[n,m]=t.toLowerCase().split(" ");let[C,O]=n.split(":").map(Number);return m==="pm"&&C!==12?C+=12:m==="am"&&C===12&&(C=0),{hours:C,minutes:O}}const z=g(()=>p.value.filter(t=>{var n;return["pastes","empanadas dulces","empanadas saladas"].includes((n=t.tipo)==null?void 0:n.toLowerCase())})),H=g(()=>!u.value.length||!z.value.length?[]:u.value.map(t=>{const n=z.value.find(C=>C.id===t.inventario_id);if(!n)return null;const{hours:m}=x(t.hora);return{id:`${n.id}-${t.hora}`,nombre:n.nombre,estimado:t.cantidad,existente:n.cantidad,diferencia:n.cantidad-t.cantidad,hora:t.hora,dia:t.dia.toLowerCase(),horaEnNumero:m}}).filter(Boolean).filter((t,n,m)=>n===m.findIndex(C=>C.id===t.id))),L=g(()=>H.value.filter(t=>t.dia===r.value.day));g(()=>L.value.filter(t=>t.diferencia<0)),g(()=>L.value.filter(t=>t.diferencia>0));const F=g(()=>L.value.filter(t=>{const n=r.value.hour;return Math.abs(t.horaEnNumero-n)<=1})),b=h(null);R(()=>{let t=!1;D.value.forEach(n=>{Math.abs(n.diferencia)>3&&!t&&(_(),t=!0),Math.abs(n.diferencia)>3&&v("warning",`Faltan ${Math.abs(n.diferencia)} unidades para las ${n.hora}`)}),clearInterval(b.value),b.value=setInterval(()=>{let n=!1;D.value.forEach(m=>{Math.abs(m.diferencia)>3&&!n&&(_(),n=!0),Math.abs(m.diferencia)>3&&v("warning",`Faltan ${Math.abs(m.diferencia)} unidades para las ${m.hora}`)})},10*60*1e3)});const _=()=>{new Audio("/sound/videoplayback.mp3").play().catch(n=>console.error("Error al reproducir el sonido:",n))},v=(t,n)=>{P.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,customClass:"no-print",didOpen:m=>{m.addEventListener("mouseenter",P.stopTimer),m.addEventListener("mouseleave",P.resumeTimer)}}).fire({icon:t,title:n})},D=g(()=>F.value.filter(t=>t.diferencia<0)),M=g(()=>F.value.filter(t=>t.diferencia>0));return(t,n)=>(l(),i("div",pt,[e("div",mt,[n[4]||(n[4]=e("h1",{class:"text-2xl font-bold mb-4"},"Sistema de Horneado",-1)),e("div",vt,[e("div",{class:"p-4 border rounded shadow bg-yellow-100 mb-4 size-fit cursor-pointer",onClick:$},[e("h2",ft,[n[0]||(n[0]=I(" ⚠️ Faltantes ")),e("span",bt,"("+d(D.value.length)+")",1),n[1]||(n[1]=I(" ⚠️ "))]),c.value?(l(),i("ul",ht,[(l(!0),i(E,null,T(D.value,m=>(l(),i("li",{key:m.id,class:"mb-2"},[e("span",null,[e("span",gt,d(m.nombre),1),I(": Faltan "+d(Math.abs(m.diferencia))+" unidades para las "+d(m.hora),1)])]))),128))])):V("",!0)]),e("div",{class:"p-4 border rounded shadow bg-blue-100 mb-4 size-fit cursor-pointer",onClick:k},[e("h2",xt,[n[2]||(n[2]=I(" ℹ️ Excedentes ")),e("span",_t,"("+d(M.value.length)+")",1),n[3]||(n[3]=I(" ℹ️ "))]),S.value?(l(),i("ul",yt,[(l(!0),i(E,null,T(M.value,m=>(l(),i("li",{key:m.id,class:"mb-2"},[e("span",null,[e("span",wt,d(m.nombre),1),I(": Hay "+d(m.diferencia)+" unidades extra para las "+d(m.hora),1)])]))),128))])):V("",!0)])])]),e("div",$t,[W(ct),W(Te),t.$page.props.auth.user.roles[0].name=="admin"?(l(),ae(Oe,{key:0})):V("",!0)])]))}},Dt={class:"py-6"},Ct={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 rounded-xl overflow-hidden"},Et={class:"flex justify-between p-6 lg:p-8 bg-white border-b border-gray-200 rounded-2xl"},Mt={__name:"index",setup(N){return(c,S)=>(l(),ae(ie,{title:"Tablero principal"},{default:me(()=>[e("div",Dt,[e("div",Ct,[e("div",Et,[W(kt)])])])]),_:1}))}};export{Mt as default};

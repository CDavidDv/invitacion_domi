import{_ as B,a as O,b as R}from"./FloatingButtonEdit-C3lbnPcE.js";import{M as z}from"./Marketing-rt4B4rEk.js";import{F as S}from"./Footer-CTJT_zye.js";import{d as m,o as g,e as p,a as e,t as k,F as H,h as F,i as U,v as Y,f as j,n as G,j as x,k as P,c as V,w as q,b}from"./app-MHWoGTTm.js";import"./ResponsiveNavLink-B_FsEtuH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"space-y-6"},X={class:"border-b border-gray-200 pb-4"},J={class:"text-lg font-medium text-gray-900"},Q={class:"text-sm text-gray-500"},Z={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},ee=["src","alt"],te={class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-lg"},ae={class:"flex space-x-2"},se=["onClick"],ne=["onClick"],le={key:1,class:"text-center py-8"},re={class:"flex justify-center"},oe=["disabled"],ie={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},de={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},ce={class:"space-y-4"},me=["src","alt"],ue={class:"flex justify-end space-x-3 mt-6"},ge=["disabled"],T={__name:"GalleryEditor",props:{imagenes:{type:Array,default:()=>[]},section:{type:String,required:!0},title:{type:String,default:"Galería de imágenes"},description:{type:String,default:"Gestiona las imágenes de esta sección"},maxImages:{type:Number,default:10}},emits:["imageAdded","imageUpdated","imageDeleted"],setup(f,{emit:E}){const d=f,v=m(null),o=m(!1),u=m(""),_=m(""),h=m(!1),n=m(null),s=m(null),y=a=>a?a.startsWith("/storage/")?a:a.startsWith("storage/")?"/"+a:a.startsWith("http")||a.startsWith("/")?a:`/storage/${a}`:"/images/placeholder.svg",w=()=>{if(d.imagenes.length>=d.maxImages){c(`No puedes agregar más de ${d.maxImages} imágenes`,"error");return}v.value.click()},M=async a=>{var l,i;const t=Array.from(a.target.files);if(t.length!==0){if(d.imagenes.length+t.length>d.maxImages){c(`No puedes agregar más de ${d.maxImages} imágenes en total`,"error");return}o.value=!0,u.value="";try{for(const r of t){if(!r.type.startsWith("image/")){c(`${r.name} no es una imagen válida`,"error");continue}if(r.size>5*1024*1024){c(`${r.name} es demasiado grande (máximo 5MB)`,"error");continue}const I=new FormData;I.append("image",r),I.append("section",d.section),I.append("name",`gallery_${Date.now()}_${r.name}`);const A=await x.post("/api/media/upload-image",I,{headers:{"Content-Type":"multipart/form-data"}});A.data.success&&C("imageAdded",A.data.data)}c("Imágenes agregadas exitosamente","success"),v.value.value=""}catch(r){console.error("Error al subir imágenes:",r),c(((i=(l=r.response)==null?void 0:l.data)==null?void 0:i.message)||"Error al subir las imágenes. Inténtalo de nuevo.","error")}finally{o.value=!1}}},W=a=>{n.value={...d.imagenes[a]},h.value=!0},N=a=>{const t=a.target.files[0];if(t){if(!t.type.startsWith("image/")){c("Por favor selecciona una imagen válida","error");return}if(t.size>5*1024*1024){c("La imagen es demasiado grande (máximo 5MB)","error");return}s.value=t}},D=async()=>{var a,t;o.value=!0,u.value="";try{let l={...n.value};if(s.value){const i=new FormData;i.append("image",s.value),i.append("section",d.section),i.append("name",`gallery_${Date.now()}_${s.value.name}`);const r=await x.post("/api/media/upload-image",i,{headers:{"Content-Type":"multipart/form-data"}});r.data.success&&(l=r.data.data,l.alt=n.value.alt)}C("imageUpdated",l),c("Imagen actualizada exitosamente","success"),$()}catch(l){console.error("Error al actualizar imagen:",l),c(((t=(a=l.response)==null?void 0:a.data)==null?void 0:t.message)||"Error al actualizar la imagen. Inténtalo de nuevo.","error")}finally{o.value=!1}},$=()=>{h.value=!1,n.value=null,s.value=null},L=async a=>{var l,i;if(!confirm("¿Estás seguro de que quieres eliminar esta imagen?"))return;const t=d.imagenes[a];try{await x.delete(`/api/media/${t.id}`),C("imageDeleted",t),c("Imagen eliminada exitosamente","success")}catch(r){console.error("Error al eliminar imagen:",r),c(((i=(l=r.response)==null?void 0:l.data)==null?void 0:i.message)||"Error al eliminar la imagen. Inténtalo de nuevo.","error")}},c=(a,t)=>{u.value=a,_.value=t,setTimeout(()=>{u.value=""},5e3)},C=E;return(a,t)=>(g(),p("div",K,[e("div",X,[e("h3",J,k(f.title),1),e("p",Q,k(f.description),1)]),f.imagenes.length>0?(g(),p("div",Z,[(g(!0),p(H,null,F(f.imagenes,(l,i)=>(g(),p("div",{key:i,class:"relative group"},[e("img",{src:y(l.path),alt:l.alt||"Imagen de galería",class:"w-full h-32 object-cover rounded-lg"},null,8,ee),e("div",te,[e("div",ae,[e("button",{onClick:r=>W(i),class:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded",title:"Editar imagen"},t[1]||(t[1]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,se),e("button",{onClick:r=>L(i),class:"bg-red-500 hover:bg-red-600 text-white p-2 rounded",title:"Eliminar imagen"},t[2]||(t[2]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ne)])])]))),128))])):(g(),p("div",le,t[3]||(t[3]=[e("div",{class:"text-gray-400 mb-4"},[e("svg",{class:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1),e("p",{class:"text-gray-500"},"No hay imágenes en esta galería",-1)]))),e("div",re,[e("button",{onClick:w,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors duration-200 flex items-center space-x-2",disabled:o.value},[t[4]||(t[4]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),e("span",null,k(o.value?"Subiendo...":"Agregar imagen"),1)],8,oe)]),e("input",{type:"file",ref_key:"fileInput",ref:v,onChange:M,accept:"image/*",multiple:"",class:"hidden"},null,544),h.value?(g(),p("div",ie,[e("div",de,[t[8]||(t[8]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Editar imagen",-1)),e("div",ce,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Imagen actual:",-1)),e("img",{src:y(n.value.path),alt:n.value.alt,class:"w-full h-32 object-cover rounded"},null,8,me)]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nueva imagen:",-1)),e("input",{type:"file",onChange:N,accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32)]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Texto alternativo:",-1)),U(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>n.value.alt=l),type:"text",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Descripción de la imagen"},null,512),[[Y,n.value.alt]])])]),e("div",ue,[e("button",{onClick:$,class:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-md"}," Cancelar "),e("button",{onClick:D,disabled:o.value,class:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white px-4 py-2 rounded-md"},k(o.value?"Guardando...":"Guardar"),9,ge)])])])):j("",!0),u.value?(g(),p("div",{key:3,class:G(["mt-4 p-3 rounded text-sm",_.value==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},k(u.value),3)):j("",!0)]))}},pe={class:"w-full h-full flex flex-col"},xe={class:"fixed inset-0 z-0"},fe=["src"],ve={key:1,class:"w-full h-full bg-gradient-to-br from-blue-900 to-purple-900"},be={class:"relative z-20"},he={class:"absolute top-4 right-4 z-30"},ye={class:"w-full py-16 px-8"},we={class:"max-w-6xl mx-auto"},ke={class:"w-full py-16 px-8"},_e={class:"max-w-6xl mx-auto"},Te={__name:"edit",setup(f){const E=m(null),d=m([]),v=m([]),o=m(""),u=m(null),_=async()=>{try{const n=await x.get("/api/media/images/about_background");n.data.success&&n.data.data.length>0&&(o.value=n.data.data[0].path);const s=await x.get("/api/media/images/about");s.data.success&&(d.value=s.data.data);const y=await x.get("/api/media/images/team");y.data.success&&(v.value=y.data.data);const w=await x.get("/api/media/images/floating_button");w.data.success&&w.data.data.length>0&&(u.value=w.data.data[0])}catch(n){console.error("Error al cargar multimedia:",n)}},h=async n=>{try{u.value=n}catch(s){console.error("Error al actualizar imagen del botón flotante:",s)}};return P(()=>{_()}),(n,s)=>(g(),V(B,{title:"Work By Experience",ref_key:"appLayoutRef",ref:E},{default:q(()=>[e("div",pe,[e("div",xe,[o.value?(g(),p("img",{key:0,src:o.value.startsWith("/storage/")?o.value:`/storage/${o.value}`,alt:"Imagen de fondo",class:"w-full h-full object-cover"},null,8,fe)):(g(),p("div",ve))]),s[4]||(s[4]=e("div",{class:"fixed inset-0 bg-black bg-opacity-60 z-10"},null,-1)),e("div",be,[e("div",he,[b(O,{currentImage:o.value,section:"about_background",name:"about_background",alt:"Imagen de fondo de About",imageClass:"w-32 h-20 object-cover rounded-lg",previewClass:"w-48 h-32 object-cover border-2 border-blue-300 rounded",buttonText:"Cambiar fondo",showEditButton:!0,maxSize:5},null,8,["currentImage"])]),s[0]||(s[0]=e("div",{class:"w-full lg:h-screen py-40 lg:py-0 flex flex-col justify-center items-center px-8"},[e("h1",{class:"lg:text-7xl text-4xl max-w-2xl text-center font-extrabold transform scale-y-75"}," MADE BY EXPERIENCE "),e("p",{class:"text-normal mb-10 max-w-xl text-center"},"Over twenty years of agency and client-side experience created a burning itch of curiosity so great that we simply had to scratch it."),e("p",{class:"text-normal mb-10 max-w-xl text-center"},"Having spent decades railing against mediocrity, vacuum-packed marketing and increasingly homogeneous brands, we wanted to create an agency that does things better and more in line with what matters most to our clients.")],-1)),s[1]||(s[1]=e("div",{class:"w-full lg:h-screen py-40 lg:py-0 flex flex-col justify-center items-center px-8"},[e("h1",{class:"lg:text-7xl text-4xl max-w-3xl text-center font-extrabold transform scale-y-75"}," WHEN MONEY AND REPUTATION IS INVOLVED, IT'S IMPORTANT YOU CHOOSE PEOPLE THAT FIERCELY PROTECT IT. "),e("p",{class:"text-normal mb-10 max-w-xl text-center"},"As former Marketing and Creative Directors, our founders have walked similar paths to yours. Our hand-picked team represent the best in their chosen areas."),e("p",{class:"text-normal mb-10 max-w-xl text-center"},"Together, we bring bags of experience to the table, who get to the heart of what you're looking to achieve with creative efficiency."),e("p",{class:"text-normal mb-10 max-w-xl text-center"},"We think and act like the agency you want to engage with.")],-1)),e("div",ye,[e("div",we,[b(T,{imagenes:d.value,section:"about",title:"Imágenes de About",description:"Gestiona las imágenes de la página About",maxImages:8},null,8,["imagenes"])])]),s[2]||(s[2]=e("div",{class:"w-full lg:h-screen py-40 lg:py-0 flex flex-col justify-center items-center px-8"},[e("h1",{class:"lg:text-7xl text-4xl max-w-3xl text-center font-extrabold transform scale-y-75 mb-5"}," WHY PEOPLE WORK WITH US "),e("p",{class:"text-normal mb-5 max-w-4xl text-center"},"We produce strategic brand, marketing and creative work that bottles the team's collective experience and energy to deliver exceptional results at lightning pace."),e("p",{class:"text-normal mb-5 max-w-4xl text-center"},"Whether we're creating a new or refreshed brand, revitalising your value proposition and product marketing, or launching an integrated marketing campaign, we consistently deliver the wow factor."),e("p",{class:"text-normal mb-5 max-w-4xl text-center"},"We trade in FOMO. We create the glue for your every word, and the itch to engage with your brand."),e("p",{class:"text-normal mb-0 max-w-4xl text-center"},"There's that itch again.")],-1)),e("div",ke,[e("div",_e,[b(T,{imagenes:v.value,section:"team",title:"Imágenes del Equipo",description:"Gestiona las imágenes del equipo",maxImages:12},null,8,["imagenes"])])]),s[3]||(s[3]=e("div",{class:"w-full lg:h-screen py-40 lg:py-0 flex flex-col justify-center items-center px-8"},[e("h1",{class:"lg:text-7xl text-4xl max-w-3xl text-center font-extrabold transform scale-y-75 mb-5"}," ALWAYS HUNGRY. ALWAYS LEARNING. ALWAYS READY TO DELIVER. ")],-1)),b(z,{class:"lg:mb-40 mx-4"}),b(S),b(R,{"floating-button-image":u.value,onImageUpdated:h},null,8,["floating-button-image"])])])]),_:1},512))}};export{Te as default};
